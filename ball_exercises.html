<!DOCTYPE html>
<html>
<head>
  <!-- tells the browser to use the utf-8 character encoding -->
  <meta charset="utf-8" />

  <title>
    Pausing and Resuming Ball Movement
  </title>

  <style>
  2* {
    padding: 0;
    margin: 0;
   }
   canvas {
     background: #eee;
     display: block;
     margin: 0 auto;
   }
  </style>

</head>

<body>

  <!-- setting up the canvas, describing its size -->
  <canvas id="myCanvas" width="480" height="320"></canvas>

  <script>
    // storing a reference to the canvas element under the name "canvas"
    var canvas = document.getElementById("myCanvas");

    // creating the ctx variable to store the 2d rendering context.
    // this is what will actually "paint" on the "canvas"
    var ctx = canvas.getContext("2d");

    // starting x and y position of the ball on the canvas
    var ballX = canvas.width/2;
    var ballY = canvas.height - 30;

    // defining the increments by which the x and y position of the ball will change
    var dxPlay = 2
    var dyPlay = -2

    var dx = dxPlay;
    var dy = dyPlay;

    // defining the ball's radius
    var ballRadius = 10;

    // pause/play button
    var button = {
      status: 0,
      text: "⏸️"
    };

    // define the function that will draw the ball initially:
    function drawBall() {
      // begin the instructions for drawing the ball
      ctx.beginPath();
      // (x, y) coordinates for the circle's center,
      // arc radius, start and end angle (in radians),
      // direction to draw the circle in ("false" indicates clockwise)
      ctx.arc(ballX,ballY,ballRadius,0,Math.PI*2,false);
      // define the ball's color
      ctx.fillStyle = "#0095DD";
      // define the circle's fill pattern
      ctx.fill();
      // end of instructions for drawing the circle
      ctx.closePath();
    }

    function drawButton() {
      ctx.font = "30px Arial";
      ctx.fillText(button.text, 40, 60);
    }

    // define the function that will update the canvas:
    function draw() {
      // clear the canvas before redrawing
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      // draw the play/pause button
      drawButton();
      // draw the ball
      drawBall();
      // update the ball's x and y position
      ballX += dx;
      ballY += dy;

      // making sure that balls bounce off the walls.
      if (button.status === 0) {
        if (ballY + dy < ballRadius || ballY + dy > (canvas.height - ballRadius)) {
          dyPlay = -dyPlay;
          dy = dyPlay;
        }
        if (ballX + dx < ballRadius || ballX + dx > (canvas.width - ballRadius))  {
          dxPlay = -dxPlay;
          dx = dxPlay;
        }
      }

      // smooth ball moving animation
      requestAnimationFrame(draw);
    }

    draw();

    // setting an event listener
    document.addEventListener("click", changeBallMovement);

    // function to pause and restart ball Movement
    function changeBallMovement(e) {
      if (button.status === 0) {
        button.status = 1;
        button.text = "▶️"
        dx = 0;
        dy = 0;
      } else {
        button.status = 0;
        button.text = "⏸️";
        dx = dxPlay;
        dy = dyPlay;
      }
    }

  </script>

</body>

</html>
